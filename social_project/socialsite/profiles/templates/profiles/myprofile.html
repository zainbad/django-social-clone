{% extends 'base.html' %}

{% block title %}
myprofile
{% endblock title %}

{% block content %}

<!-- This is the semantic modal -->
<div class="ui modal mymodal">
    <i class="close icon"></i>
    <div class="header">
      Update your profile
    </div>
    <div class="image content">
      <div class="ui medium image">
        <img src="{{profile.avatar.url}}">
      </div>
      <div class="description">
        <div class="ui header">We've auto-chosen a profile image for you.</div>
        <form action="" method="POST" class="ui form" enctype="multipart/form-data">
            {% csrf_token %}
            {{form.as_p}}
            <button type="submit" class="ui postive button">update</button>
      </div>
    </div>
    <div class="actions">
      <button type='submit' class="ui positive right labeled icon button">
        Update
        <i class="checkmark icon"></i>
      </button>
    </form>
    </div>
  </div>


<div class="ui segment">
    {% if confirm %}

        <div class="ui green message">Your profile has been updated</div>
        
    {% endif%}
    <h3 text='black'>My Profile: {{request.user}}</h3> 
    <div class="ui grid">

    
    <div class="row">
        <div class="six wide column">
            <img class=" ui medium rounded image " src="{{profile.avatar.url}}" alt="Profile_Pic">
            <div class="row mt-5">
            <button class="ui secondary button" id='modal-btn'>Update your Profile</button>
            </div>
        </div>
        <div class="ten wide column">
            <table class="ui table">
                <tbody>
                    <tr>
                        <td>Username</td>
                        <td>{{profile.user}}</td>
                    </tr>
                    <tr>
                        <td>first_name</td>
                        <td>{{profile.first_name}}</td>
                    </tr>
                    <tr>
                        <td>last_name</td>
                        <td>{{profile.last_name}}</td>
                    </tr>
                    <tr>
                        <td>Bio</td>
                        <td>{{profile.bio}}</td>
                    </tr>
                    <tr>
                        <td>Created</td>
                        <td>{{profile.created}}</td>
                    </tr>
                    <tr>
                        <td>No. of Friends</td>
                        <td>{{profile.get_friends.count}}</td>
                    </tr>
                    <tr>
                        <td>All Friends</td>
                        <td>
                            <ul>
                                {% for friend in profile.get_friends %}
                                    <li>{{friend}}</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>No. of Posts</td>
                        <td>{{profile.get_posts_no}}</td>
                    </tr>
                    <tr>
                        <td>No. of Likes Given</td>
                        <td>{{profile.get_all_likes_given}}</td>
                    </tr>
                    <tr>
                        <td>No. of Likes Received</td>
                        <td>{{profile.get_all_likes_received}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</div>


 

{% endblock content %}


